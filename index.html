<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>OVERALL COMPETENCY VIEW</title>
   <link rel="preconnect" href="https://fonts.googleapis.com">
   <link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
/>

   <!-- Font Awesome Free -->
<script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>

<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inria+Serif:ital,wght@0,300;0,400;0,700;1,300;1,400;1,700&family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
 
  <!-- Configure Tailwind to use Roboto -->
  <script>
      tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            roboto: ['"Roboto Condensed"'],
          }
        }
      }Hey
    }
  </script>
 <script src="https://cdn.tailwindcss.com"></script>
 <script src="https://unpkg.com/alpinejs" defer></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
</head>
<body class="bg-gray-100  font-roboto">
  <!-- Header -->
 <header class="bg-white shadow flex justify-between items-center px-6 py-4 fixed top-0 left-0 right-0 z-50">

    <div class="flex items-center space-x-4">
      <img src="logo.png" alt="Logo" class="h-5 w-auto object-contain" />
      <h1 class="text-xl font-bold">Assess.AI</h1>
    </div>
    <div class="space-x-2">
       <button onclick="downloadModel()" class="border px-4 py-2 text-sm rounded hover:bg-gray-100">Competency Model</button>
      <button onclick="downloadPDF()" class="border px-4 py-2 text-sm rounded hover:bg-gray-100">Download as PDF</button>
      <button class="bg-[#071D49] text-white px-4 py-2 text-sm rounded hover:bg-blue-700 disabled">Share Report</button>
    </div>
  </header>

  <!-- Main Content -->
 <main class="max-w-[90%] mx-auto pt-24 pb-8" id="pdf-content">

   <!-- Heading -->
<div class="flex flex-col md:flex-row md:items-center justify-between mb-8">
  <h2 class=" mb-4 md:mb-0 text-sm">
    <span class="text-2xl font-bold text-[#0066F5]">Hey Sean Silk,</span> <br> Here is your personalized report. Toggle between <span class="font-bold text-[#071D49]">"Competency View and Detailed View"</span>  to dive deeper.
  </h2>

  <!-- Toggle -->
<div class="relative flex bg-gray-200 rounded-full p-1  shadow w-[250px] h-[40px]">

  <!-- Sliding background -->
  <div id="view-slider" class="absolute top-1 left-1 bg-[#071D49] text-[#ffffff] rounded-full shadow transition-all duration-300 h-[33px] w-1/2"></div>

  <!-- Buttons -->
  <button id="CompetencyBtn" onclick="switchView('competency')" class="relative  flex flex-1 px-2 py-1 text-xs justify-center items-center rounded-full text-white font-bold z-10">
    Competency View
  </button>
  <button id="DetailedBtn" onclick="switchView('detailed')" class="relative flex flex-1 px-2 py-1 text-xs justify-center items-center rounded-full text-black font-bold z-10">
    Detailed View
  </button>
</div>

</div>
 <div id="competency-view">
    <div class="grid grid-cols-1 md:grid-cols-12 gap-6">
      <!-- Skills Assessment -->
      <div class="bg-white p-6 rounded-lg shadow-md md:col-span-8 col-span-12">
        <div class="flex justify-between items-center mb-2 flex-wrap gap-2">
          <h3 class="text-2xl text-[#071D49]  font-bold">OVERALL COMPETENCY VIEW</h3>
          <div class="relative flex bg-gray-200 rounded-full p-1 w-max">
            <div id="slider" class="absolute top-1 left-1 bg-[#071D49] rounded-full shadow transition-all duration-300 h-[32px]"></div>
            <button id="barBtn" onclick="switchChart('bar')" class="relative px-4 py-1 text-sm rounded-full text-white font-medium z-10">Bar Chart</button>
            <button id="radarBtn" onclick="switchChart('radar')" class="relative px-4 py-1 text-sm rounded-full text-black font-medium z-10">Radar Chart</button>
          </div>
        </div>

        <div id="legends" class="flex items-center justify-end space-x-4 mt-[30px] mb-2" >
          <span class="text-[#8A2ECC] text-sm">● Self</span>
          <span class="text-[#071D49] text-sm">● Manager</span>
          <!-- <span class="text-[#0066F5] text-sm"><span class="inline-block w-2.5 h-1.5 bg-[#0066F5] mr-1.5 rotate-90"></span> Role Benchmark</span> -->
        </div>

        <!-- Chart Containers -->
        <div id="accordion-content-skills" class="transition-all duration-300 ease-in-out">
          <div id="skills-container" class="space-y-6 text-sm relative"></div>
          <div id="radarContainer" class="hidden w-[500px] h-[400px] mx-auto">
            <canvas id="radarChart" class="w-full h-full"></canvas>
          </div>
        </div>
      </div>

      <!-- Performance Summary -->
      <div class="bg-white p-6 rounded-lg shadow-md md:col-span-4 col-span-12">
        <h3 class="text-2xl text-[#071D49] font-bold mb-4 text-left">OVERALL SUMMARY</h3>
        <p class="text-sm  mb-2">
        You demonstrate a strategic, action-oriented mindset as a Brand Manager, consistently grounding your work in data, patient needs, and business priorities. Your efforts to foster cross-functional collaboration, personalize messaging strategies, and leverage patient insights to inform PSP tools and onboarding experiences clearly reflect a customer-centric approach. You take pride in maintaining quality, clarity, and agility across multiple touchpoints, with evidence of ownership in content creation and adjusting strategies based on feedback and performance.
        </p>
        <p class="text-sm  mb-2">
       However, there have been some inconsistencies in how you apply marketing competencies in your role. To strengthen your impact, there are three key areas to focus on: agile lifecycle management, advanced data synthesis, and scaling personalized content. By integrating modular assets, behavioral segmentation, and predictive tools more effectively, you can create quicker, more adaptable marketing responses. Your interest in segmentation, journey design, and new engagement models shows strong growth potential. Early collaboration with analytics and market access teams will ensure your campaigns are grounded in business realities and executed more effectively.
        </p>
        <p class="text-sm mb-2">
         As the organization moves toward more advanced omnichannel strategies, your role as a bridge—connecting data, customer insights, and internal alignment—will become even more valuable. By formalizing real-time tracking, developing storytelling playbooks, and building scalable personalization frameworks, you’ll drive brand differentiation and position yourself as a leader in performance marketing within the organization.
        </p>
        
    
    
    </div>
    </div>

    <!-- Accordions -->
    <div class="flex flex-col md:flex-row items-start gap-6 mt-6">
      <div class="bg-white p-6 rounded-lg shadow-md w-full md:w-1/2">
        <button id="accordion-toggle-strengths" class="w-full flex justify-between items-center text-lg font-semibold text-left focus:outline-none" onclick="toggleAccordion('strengths')">
          <span class="text-2xl text-[#071D49] font-bold">TOP STRENGTHS</span>
          <svg id="accordion-arrow-strengths" class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div id="accordion-content-strengths" class="mt-4 space-y-4 transition-all duration-300 ease-in-out"></div>
      </div>

      <div class="bg-white p-6 rounded-lg shadow-md w-full md:w-1/2">
        <button id="accordion-toggle-development" class="w-full flex justify-between items-center text-lg font-semibold text-left focus:outline-none" onclick="toggleAccordion('development')">
          <span class="text-[#071D49] text-2xl font-bold">DEVELOPMENT PRIORITIES</span>
          <svg id="accordion-arrow-development" class="w-5 h-5 transition-transform" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div id="accordion-content-development" class="mt-4 space-y-4 transition-all duration-300 ease-in-out"></div>
      </div>
    </div>

    <!-- learining -->
      <div class="mx-auto bg-white p-6 mt-5 rounded-lg shadow">
    <div class="flex justify-between items-center mb-1">
      <h1 class="text-2xl font-bold text-[#071D49]">Your Learning Recommendations</h1>
      <button class="bg-[#071D49] text-white px-4 py-2 rounded hover:bg-blue-800 hidden">Select Team member</button>
    </div>
    <p class="mb-6  text-sm">
      Based on the priorities identified from the assessment here are the top learning assets picked for you for self guided learning
    </p>

    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
      <!-- Column 1 -->
      <div class="bg-white border rounded-lg shadow">
        <div class="bg-[#071D49] text-white text-xl font-semibold p-3 rounded-t-lg">Channel Strategy</div>
        <p class="text-[#071D49] px-4 pt-2 font-medium">Priority 1</p>
        <ul class="divide-y">
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">Strategic Leadership</p>
              <p class="text-sm text-gray-600">Course  4 weeks</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">Leading Through Change</p>
              <p class="text-sm text-gray-600">Video  45 min</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">Decision Making Workshop</p>
              <p class="text-sm text-gray-600">Workshop  1 day</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">7 Habits of Effective Leaders</p>
              <p class="text-sm text-gray-600">Book  320 pages</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
        </ul>
      </div>

      <!-- Column 2 -->
      <div class="bg-white border rounded-lg shadow">
        <div class="bg-[#071D49] text-white text-xl font-semibold p-3 rounded-t-lg">Access Strategy Integration</div>
        <p class="text-[#071D49] px-4 pt-2 font-medium">Priority 2</p>
        <ul class="divide-y">
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">Data Analysis with Python</p>
              <p class="text-sm text-gray-600">Course  6 weeks</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">Visualizing Data for Impact</p>
              <p class="text-sm text-gray-600">Video  30 min</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">Advanced Excel Workshop</p>
              <p class="text-sm text-gray-600">Workshop  4 hours</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">Storytelling with Data</p>
              <p class="text-sm text-gray-600">Book  288 pages</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
        </ul>
      </div>

      <!-- Column 3 -->
      <div class="bg-white border rounded-lg shadow">
        <div class="bg-[#071D49] text-white text-xl font-semibold p-3 rounded-t-lg">Lifecycle Optimization</div>
        <p class="text-[#071D49] px-4 pt-2 font-medium">Priority 3</p>
        <ul class="divide-y">
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">Business Communication</p>
              <p class="text-sm text-gray-600">Course  3 weeks</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">The Art of Public Speaking</p>
              <p class="text-sm text-gray-600">Video  1 hour</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">Email Communication</p>
              <p class="text-sm text-gray-600">Workshop  2 hours</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
          <li class="p-4 flex justify-between items-start">
            <div>
              <p class="font-medium">Crucial Conversations</p>
              <p class="text-sm text-gray-600">Book  256 pages</p>
            </div>
            <a href="#" class="text-[#071D49] underline text-sm">Click Here</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
    </div>
    <div id="detailed-view" class="hidden"> 
     <div class="max-w-full mx-auto">
    <h2 class="text-2xl text-[#071D49] font-bold mb-6">Detailed Competency Overview</h2>

    <div x-data="{ openIndex: null }">
      <!-- Accordion Items Start -->
      <template x-for="(item, index) in [
           {logo: './images/business.png',
          title: 'Business & Financial Acumen',
          score: '1.67/3',
          narrative: 'You apply a good understanding of profitability and planning processes in real-world scenarios. With deeper strategic exposure and a stronger investment mindset, you can enhance your influence on brand and business direction.',
          subcompetencies: [
            { title: 'External Influences', score: '2/3', self: '2', manager: '0', selfWidth: '66%', managerWidth: '0%',feedback: 'You show curiosity about changes in the pharma industry and acknowledge the importance of keeping up with external shifts. Your reflections suggest a readiness to grow this muscle through peer discussion, reading, and closer collaboration with your team.<br/>	Strengthen your external influence by dedicating consistent time to tracking competitor activity, policy changes, and market dynamics. Embedding these trends into brand planning early will improve risk mitigation, opportunity identification, and strategic foresight in future campaigns.' },
            { title: 'Financial Acumen', score: '3/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '	You make thoughtful trade-offs when managing limited budgets, prioritizing high-impact tools and reusing assets where possible. Your decisions reflect an awareness of financial responsibility and a mindset that seeks value creation through efficiency and practicality.<br/>	To build stronger financial acumen, aim to integrate performance KPIs and ROI metrics more directly into your brand decision-making process. Strengthening this link will increase credibility with leadership and sharpen your ability to advocate for investment or reallocation.' },
            { title: 'Planning approach', score: '1/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '	You showed strong initiative by reallocating budget from low-performing tactics like AbbViePro to more effective face-to-face engagements. Your ability to assess ROI and pivot based on open rates and reach demonstrates clear financial ownership and adaptive thinking.<br/>	To strengthen this skill, focus on anticipating financial inflection points by linking forecasting trends to performance metrics earlier in your planning. Deeper integration into financial cycles will help you make more proactive, forward-looking investment choices.' },
            
          ]
        },
        {logo: './images/Analysis.png',
          title: 'Analysis to Insights',
          score: '1.67/3',
          narrative: 'You have developed strong analytical acumen and use insights to inform marketing decisions. Strengthening your predictive analytics and visualization skills will further boost cross-functional impact.',
          subcompetencies: [
          { title: 'Patient and Customer Centricity', score: '1.5/3', self: '2', manager: '0', selfWidth: '66%', managerWidth: '0%',feedback: '	You consistently place the patient and HCP experience at the heart of your strategy. Your segmentation work, onboarding design, and continuous feedback loops demonstrate your ability to prioritize user needs in both digital and in-field execution.<br/>	To further elevate patient-centered innovation, build earlier feedback mechanisms and involve HCP or patient reps in co-creation. This will sharpen early-stage design, minimize iteration, and create more resonant solutions from the outset of each campaign.' },  
            { title: 'Data & Analytical Literacy', score: '2/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '	You work across structured datasets like IQVIA and web analytics to extract trends and make informed decisions. Your ability to synthesize data from multiple sources into tactical insights reflects strong analytical depth and strategic application.<br/>	You could amplify your capabilities by partnering earlier with analytics colleagues or piloting AI-enhanced insight tools. These steps will allow you to uncover latent patterns, improve forecast accuracy, and lead more data-forward brand strategies.' },
            { title: 'Data-Informed Decision Making', score: '3/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '	You’ve demonstrated consistent use of performance metrics to shift direction, prioritize investments, and evolve messaging. Your pivot to digital and adjustments based on open rates and feedback reflect a clear performance mindset.<br/>	To go further, embed more real-time data loops to optimize during campaign execution—not just after. Developing automated dashboards or alerts will enable faster pivots and make your performance reviews even more agile and proactive.' },
            
          ]
        },
        {logo: './images/Brandport.png',
          title: 'Brand & Portfolio Value',
          score: '2.17/3',
          narrative: 'You develop compelling, cohesive brand narratives and guide portfolio-level strategy. Your strategic clarity and cross-brand vision ensure sustainable success in a competitive market.',
          subcompetencies: [
          { title: 'Strategic Choices', score: '2/3', self: '2', manager: '0', selfWidth: '66%', managerWidth: '0%',feedback: '	You’ve begun linking different touchpoints—like support tools, sales messaging, and emotional storytelling—into a unified narrative. Your work on the water bottle and web content shows that you are tying patient insights into action across channels.<br/>	To fully mature integrated thinking, strengthen the connections across field, digital, and HCP education. Mapping full experience journeys by segment will help you identify gaps, improve consistency, and drive higher brand stickiness.' },
          { title: 'Lifecycle Optimization', score: '3/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '	You use brand lifecycle insights to identify moments of patient drop-off and act decisively—especially through your work on youth transition support. Your cross-functional coordination ensures smoother onboarding and continuity of care.<br/>	To enhance lifecycle planning, push beyond known friction points and proactively scan for emerging challenges in the patient journey. Building forward-looking lifecycle maps tied to behaviors will help anticipate risks and inform next-generation PSP strategy.' },
           { title: 'Compelling Brand Story', score: '2/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '		You clearly understand your brand`s positioning and build campaigns that reinforce emotional and functional benefits. Your attention to details like product startup complexity and packaging show a nuanced understanding of prescriber perceptions.<br/>	To deepen brand equity work, consider more structured brand health tracking across segments and time. This will give you insight into how your messaging lands long-term and where to intervene for future strengthening of your brand`s distinctiveness.' },  
           
          ]
        },
        {logo: './images/stakeholder.png',
          title: 'Stakeholder Alignment',
          score: '2.3/3',
          narrative: 'You are a connector and integrator across functions, enabling unified execution. Your ability to lead alignment efforts across Brand Teams and external partners drives strategic cohesion.',
          subcompetencies: [
           { title: 'Matrix Working', score: '3/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '	You exhibit trust-based leadership and delegate responsibilities effectively, navigating multi-stakeholder plans with resilience. Your ability to move from strategy to execution through open dialogue reflects strong matrix working behaviors.<br/>	To streamline execution, advocate for clearer tiering of sign-offs based on risk. This will reduce bottlenecks, build pace, and create space for experimentation without compromising governance in higher-risk initiatives.' },
           { title: 'Cross-Functional Collaboration', score: '3/3', self: '2', manager: '0', selfWidth: '66%', managerWidth: '0%',feedback: '	You demonstrate strong working relationships across functions and actively involve peers in early alignment. Your collaboration with analytics, PSP, sales, and med-legal shows your ability to build cohesion even in complex projects.<br/>	You can sharpen this by setting clearer tracking mechanisms and accountability mid-cycle. Building systems for mutual updates will ensure alignment is maintained—not just established—so that shifting priorities don’t derail joint execution.' },
{ title: 'Agency Collaboration', score: '3/3', self: '2', manager: '0', selfWidth: '66%', managerWidth: '0%',feedback: '	You’ve provided thoughtful feedback to agency partners and actively nurtured a shared understanding of brand goals and creative intent. Your collaboration has helped drive both transparency and quality in campaign execution.<br/>	To strengthen agency impact further, consider co-developing innovation pilots like your AR initiative earlier in the cycle. Engaging agency partners during strategic exploration will unlock new thinking and accelerate breakthrough creative ideas.' }
            
          ]
        },
        {logo: './images/story.png',
          title: 'Effective Storytelling',
          score: '1.67/3',
          narrative: 'You inspire through powerful storytelling that drives alignment and action. Your ability to craft high-impact narratives strengthens AbbVies presence across internal and external stakeholders.',
          subcompetencies: [
          { title: 'Compelling Connections', score: '2.5/3', self: '3', manager: '0', selfWidth: '100%', managerWidth: '0%',feedback: '	You use concise, purposeful storytelling to secure alignment from leadership and cross-functional teams. Your ability to adapt your message to the audience ensures decisions are made efficiently. This strength positions you as a clear communicator who inspires action.<br/>	You rely on clean visuals, clear objectives, and structured narratives to guide stakeholders. These techniques reduce friction and confusion, even when topics are complex. Your focus on clarity drives confidence in your recommendations.' },
          { title: 'Powerful Narratives', score: '2.5/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '	Your storytelling combines clear structure with data and patient-centered outcomes, enabling leadership to act quickly and confidently. You’ve also inspired cross-functional teams by connecting personal insights to broader brand goals.<br/>	To further amplify your influence, build in structured debriefs after key storytelling moments to capture what resonated. Using audience feedback to' },
          { title: 'Driving Impact', score: '3/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: 'You use consults and surveys to refine messages and ensure clarity before launch. Your feedback culture keeps messaging tuned to audience needs. This improves both team confidence and HCP credibility.<br/>Strengthen this by defining behavioral KPIs that show message impact over time—like prescribing confidence or HCP follow-up. This helps demonstrate storytelling ROI. It also encourages better narrative iteration.' },
          ]
        },
        {logo: './images/market.png',
          title: 'Market Access',
          score: '2/3',
          narrative: 'You integrate access requirements into your marketing thinking and strategy design. Enhancing value communication with tailored messaging will further support patient access outcomes.',
          subcompetencies: [
           { title: 'Market Access Stakeholders Impact', score: '2/3', self: '2', manager: '0', selfWidth: '66%', managerWidth: '0%',feedback: '	You’ve effectively advocated for segment prioritization based on reimbursement realities. Your proposal to tailor resources for only high-value segments reflects sound access thinking and pragmatic strategy design.<br/>	To strengthen further, partner more actively with the market access team during planning—not post-campaign. Integrating payer insights at the start of your strategic planning will ensure your campaigns align with access constraints from the outset.' },
            { title: 'Pricing and Distribution', score: '2/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '	You recognize the value of external data and have begun exploring competitor trends and payer preferences. Your reflections on pricing dynamics and regional reimbursement shifts reflect a strong grasp of real-world market forces.<br/>	To improve, build a more structured habit of scanning policy shifts and competitor strategies. Setting a cadence for access and external trend reviews will strengthen your agility and elevate your strategic response across pricing, distribution, and coverage.' }
          
          ]
        },
          {logo: './images/Personal.png',
          title: 'Personalized Marketing',
          score: '1.83/3',
          narrative: 'You design data-driven journeys and deliver impactful experiences using analytics. Continue evolving your test-and-learn mindset and scaling personalization for greater value.',
          subcompetencies: [
            { title: 'Audience Targeting', score: '2/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '	Your storytelling is clear, relevant, and shaped by audience. Whether for internal alignment or external materials, you distill what matters and adjust language for clarity and tone—demonstrating strong communications acumen.<br/>	You can elevate this further by layering in emotional resonance and behaviorally-driven messages. Combining emotional triggers with data-backed outcomes will move your storytelling from clear to unforgettable—and inspire deeper behavior change.' },
            { title: 'Personalized Content and Channel', score: '1.5/3', self: '1', manager: '0', selfWidth: '33%', managerWidth: '0%',feedback: '	You’re actively piloting email segmentation and gathering performance data to guide future messaging. Your willingness to compare generic and tailored formats reflects a curious, experiment-driven mindset that’s well-aligned with modern omnichannel engagement.<br/>	To scale personalization, build templates that are pre-approved and modular by segment. This will give you speed, flexibility, and compliance assurance while helping you create more responsive and audience-specific communication at scale.' },
            { title: 'Customer Centric Experiences ', score: '2/3', self: '2', manager: '0', selfWidth: '66%', managerWidth: '0%',feedback: '	You think holistically about where the brand meets customers and build materials with journey steps in mind. Your plans to segment by HCP and test different email formats show strong foundational capability in journey design.<br/>	To make these journeys truly dynamic, integrate modular content and CRM signals for real-time adaptation. Piloting segment-specific messaging that responds to interaction behavior will make your journeys more personalized, engaging, and effective.' }
          ]
        }
      ]" :key="index">
        <div class="bg-white rounded-lg shadow-sm mb-4 border">
          <button
  class="w-full flex justify-between items-center p-4"
  @click="openIndex === index ? openIndex = null : openIndex = index"
>
  <div class="flex items-center space-x-4">
    <!-- Dynamic logo binding with Alpine.js -->
    <img :src="item.logo" :alt="item.title + ' logo'" class="w-[60px] h-[60px] object-contain me-[10px]" />
    <div>
      <h3 class="text-lg font-semibold text-gray-800" x-text="item.title"></h3>
      <p class="text-sm text-gray-500 text-left">
        <!-- Overall Score: <span x-text="item.score"></span> -->
      </p>
    </div>
  </div>
  <div class="text-gray-400 text-xl" x-text="openIndex === index ? '▲' : '▼'"></div>
</button>


          <div x-show="openIndex === index" x-transition class="p-6 border-t bg-gray-50">
            

            <!-- <h4 class="font-semibold text-gray-700 mb-4">Subcompetencies</h4> -->
            <div class="grid md:grid-cols-3 gap-4">
              <template x-for="(sub, i) in item.subcompetencies" :key="i">
                <div class="bg-white rounded-lg border p-4 shadow-sm">
                  <h5 class="font-semibold text-gray-800" x-text="sub.title"></h5>
                  <!-- <p class="text-sm text-gray-600 font-medium" x-text="sub.score"></p> -->
                  <div class="text-sm text-gray-600 mt-2">Self <span class="float-right"x-text="(+sub.self < 1) ? '' : (+sub.self < 2) ? 'Foundational' : (+sub.self < 3) ? 'Advanced' : 'Mastery'"></span></div>
                  <div class="w-full h-2 bg-gray-200 rounded">
                    <div class="bg-[#8A2ECC] h-2 rounded" :style="'width: ' + sub.selfWidth"></div>
                  </div>
                  <div class="text-sm text-gray-600 mt-2">Manager <span class="float-right"x-text="(+sub.manager < 1) ? '' : (+sub.manager < 2) ? 'Foundational' : (+sub.manager < 3) ? 'Advanced' : 'Mastery'"></span></div>
                  <div class="w-full h-2 bg-gray-200 rounded">
                    <div class="bg-[#071D49] h-2 rounded" :style="'width: ' + sub.managerWidth"></div>
                  </div>
                </div>
              </template>
            </div>
            <!-- <h4 class="font-semibold text-gray-700 mt-4 mb-2">Competency Feedback</h4>
            <p class="text-gray-300 mb-6" x-text="item.narrative"></p> -->
            <template x-for="sub in item.subcompetencies" :key="sub.title">
  <div class="my-4">
    <h5 class="font-medium text-gray-700" x-text="sub.title"></h5>
   <ul class="text-gray-600 text-sm mt-1" x-show="sub.feedback" x-html="sub.feedback.split('<br/>').map(p => `<li class='list-disc ml-5'>${p}</li>`).join('')"></ul>
  </div>
</template>
          </div>
        </div>
      </template>
    </div>
  </div>
</div>
  </main>

  <script>
    const slider = document.getElementById('slider');
    const barBtn = document.getElementById('barBtn');
    const radarBtn = document.getElementById('radarBtn');
    
    let activeChart = '';
    let radarChart;

    window.onload = () => {
      activeChart = 'bar';
      updateSlider(barBtn);
      renderSkills();
    };

    function switchChart(type) {
      if (type === activeChart) return;
      activeChart = type;

      if (type === 'bar') {
        updateSlider(barBtn);
        document.getElementById('skills-container').innerHTML = '';  // Clear previous bar graph
        document.getElementById('skills-container').style.display = 'block';
        document.getElementById('radarContainer').style.display = 'none';
        barBtn?.classList.add("text-white");
 radarBtn?.classList.remove("text-white")
        renderSkills();
      } else {
        updateSlider(radarBtn);
        document.getElementById('skills-container').style.display = 'none';
        document.getElementById('radarContainer').style.display = 'block';
        barBtn?.classList.remove("text-white");
    barBtn?.classList.add("text-black");
    radarBtn?.classList.add("text-white")
        renderRadarChart();
      }
    }

    function updateSlider(targetBtn) {
      slider.style.width = targetBtn.offsetWidth + 'px';
      slider.style.left = targetBtn.offsetLeft + 'px';
      slider.style.top = targetBtn.offsetTop + 'px';
      slider.style.height = targetBtn.offsetHeight + 'px';
    }

    function downloadPDF() {
      const element = document.getElementById("pdf-content");
      const opt = { margin: 0.5, filename: 'Overall_Competency_Report.pdf', image: { type: 'jpeg', quality: 0.98 }, html2canvas: { scale: 2 }, jsPDF: { unit: 'in', format: [14, 12], orientation: 'portrait' } };
      html2pdf().from(element).set(opt).save();
    }

    const skillsData = [
      { label: "BUSINESS & FINANCIAL ACUMEN", description: "Understanding the key forces and dynamics inside and outside AbbVie that guide all decisions.", self: 1.1, manager: 0, benchmark: 2 },
      { label: "ANALYSIS TO INSIGHTS",description: "Gathering, analyzing and synthesizing data to generate impactful insights that drive action, deepen customer intimacy and fuel curiosity",  self: 1.1, manager: 0, benchmark: 2},
      { label: "BRAND & PORTFOLIO VALUE",description: "Realizing the full potential of our brands and portfolios using a deep understanding of the market, competition, customers, and clinical value to build a compelling brand story and provide short- and long-term strategic direction",  self: 1.1, manager: 0, benchmark: 2.5 },
      { label: "STAKEHOLDER ALIGNMENT",description: "Building strong relationships with internal stakeholders to exceed shared goals",  self: 1.2, manager: 0, benchmark: 2 },
      { label: "EFFECTIVE STORYTELLING",description: "Inspiring action through compelling narratives that effectively convey value for key stakeholders,including customers, peers and leaders ",  self: 1.2, manager: 0, benchmark: 2.5 },
      { label: "MARKET ACCESS",description: "Understanding market access key stakeholders economics and decision making to enable patient access",  self: 1.17, manager: 0, benchmark: 2 },
      { label: "PERSONALIZED MARKETING",description: "Delivering highly tailored, compelling experiences using real-time data, advanced analytics and AI to reflect customers unique preferences and behaviors",  self: 1.1, manager: 0, benchmark: 2.5 },
    ];

    const strengths = [
      { title: "Patient and Customer Centricity ",competency:'Analysis to Insights', description: "	You consistently embed patient and HCP feedback into your strategy, shaping support tools and digital content that directly address real-life behaviors and pain points. Your empathy-driven mindset ensures your brand materials are relevant, practical, and easy to adopt.<br/>	To further enhance your impact, there’s an opportunity to strengthen your ability to integrate data-driven insights and predictive tools into your strategy. This would allow for more dynamic, real-time adjustments to your campaigns and further elevate the patient journey" },
      { title: "Cross-Functional Collaboration ",competency:'Stakeholder Alignment', description: "	You collaborate early and effectively across medical, PSP, analytics, and legal functions, ensuring alignment on priorities and delivery. Your inclusive working style helps surface insights, build trust, and create joint accountability for brand outcomes.<br/>	To further enhance your marketing leadership, consider deepening your proactive engagement with stakeholders during earlier phases of project planning. Strengthening this collaboration can help anticipate potential challenges and provide more time to align on key deliverables, ensuring even smoother execution." },
      { title: "Data-Informed Decision Making ",competency:'Analysis to Insights', description: "	You actively use KPIs, survey feedback, and campaign analytics to reassess direction and improve messaging. Your data discipline shows in your ability to learn from underperformance and turn those insights into more engaging content.<br/>By embracing both quantitative and qualitative feedback, you demonstrate a performance mindset that drives continuous learning. Your openness to course-correct supports stronger brand agility and long-term effectiveness." },
     
    ];

    const development = [
      { title: "Personalized Content and Channel",competency:'Personalized Marketing', description: "	While you’ve started segmenting and piloting email strategies, scaling personalization across channels remains an untapped opportunity. You would benefit from creating modular content templates and CRM triggers to serve each segment’s needs in real-time.<br/>	Deepening personalization with dynamic tools, pre-approved content blocks, and behavior-based messaging will allow you to move from experimentation to sustained omnichannel impact, increasing engagement and loyalty across your HCP base." },
      { title: "Pricing and Distribution",competency:'Market Access', description: "	You demonstrate good awareness of payer segmentation but tend to engage market access colleagues after strategy has been formed. Earlier alignment will help ensure that access realities and payer drivers shape your tactics from the beginning.<br/>	By proactively embedding access strategy into planning, you’ll reduce downstream friction and develop more integrated brand stories that reflect affordability, patient eligibility, and ease of prescribing." },
       { title: "Lifecycle Optimization  ",competency:'Brand & Portfolio Value', description: "	You are effective in identifying friction points in the journey (e.g., patient transition), but could further systematize how you track, predict, and plan around the entire product lifecycle. This will sharpen timing, targeting, and future campaign planning.<br/>	Mapping lifecycle data to journey insights and building forward-looking plans will allow you to better anticipate resource shifts, segment evolution, and moments of vulnerability, creating more resilient and impactful brand strategies." }
    ];

const getPosition = (value) => {
  if (value <= 0) return "0%"; // Handle 0 and negatives
  const clamped = Math.min(3, value);
  const percent = (clamped / 3) * 100;
  return percent + "%";
};


   function renderSkills() {
  const container = document.getElementById("skills-container");
  container.innerHTML = ""; // Clear previous content if any

  // Add the scale header row
  const scaleRow = document.createElement("div");
  scaleRow.className = "grid grid-cols-6 gap-4 mb-4 text-xs text-gray-500 px-1 mt-[50px]";
  scaleRow.innerHTML = `
    <div class="col-span-2"></div>
    <div class="col-span-4 relative h-5">
      <div class="absolute top-0 left-0 w-full flex justify-between text-center font-semibold text-sm text-gray-600">
        <div class="w-1/3">Foundational</div>
        <div class="w-1/3">Advanced</div>
        <div class="w-1/3">Mastery</div>
      </div>
    </div>
  `;
  container.appendChild(scaleRow);

  // Vertical benchmark guide lines (if needed)
  const verticalLines = document.createElement("div");
  verticalLines.className = "absolute top-0 left-0 w-full h-full pointer-events-none z-20";
  verticalLines.innerHTML = `
    <div class="absolute top-[-20px] bottom-[10px] w-px border-l border-dotted border-gray-400" style="left: 55%; "></div> 
    <div class="absolute top-[-20px] bottom-[10px] w-px border-l border-dotted border-gray-400" style="left: 76%;"></div>
  `;
  container.appendChild(verticalLines);

  // Loop through skills data
  skillsData.forEach(skill => {
    const row = document.createElement("div");
    row.className = "grid grid-cols-6 gap-4 items-center mb-4";

    // Skill label with hover description
   // Label wrapper with bottom border
const labelWrapper = document.createElement("div");
labelWrapper.className = "col-span-2 border-b border-gray-200 pb-2";

// Create a group container for hover behavior
const groupContainer = document.createElement("div");


// Flex row for label and icon
const labelRow = document.createElement("div");
labelRow.className = "flex items-center justify-between";

// Label text
const label = document.createElement("div");
label.className = "font-medium text-[#948979]";
label.textContent = skill.label;

// Feather 'info' icon (larger, hover-enabled)
const infoIcon = document.createElement("div");
infoIcon.className = "relative group cursor-pointer";
infoIcon.innerHTML = `
 <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-info-circle-fill text-gray-300" viewBox="0 0 16 16">
  <path d="M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16m.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2"/>
</svg>
`;

// Description tooltip (full-width, appears below on hover)
const description = document.createElement("div");
description.className = `
  absolute hidden group-hover:block
  left-0 top-[150%] z-50
  min-w-[200px] max-w-xs
  bg-white text-gray-700 text-xs rounded shadow-lg px-3 py-2
  whitespace-pre-wrap
`;

description.textContent = skill.description || "";

// Assemble structure
labelRow.appendChild(label);
labelRow.appendChild(infoIcon);
groupContainer.appendChild(labelRow);
infoIcon.appendChild(description); // now a child of the icon container
labelWrapper.appendChild(groupContainer);

    // Skill graph with bars and benchmark line
    const graph = document.createElement("div");
    graph.className = "col-span-4 relative h-6 bg-gray-100 rounded";

    graph.innerHTML = `
      <!-- Self Bar -->
      <div class="absolute top-[10%] left-0 h-[35%] bg-[#8A2ECC] rounded" style="width: ${getPosition(skill.self)};"></div>

      <!-- Manager Bar -->
      <div class="absolute top-[55%] left-0 h-[35%] bg-[#071D49] rounded" style="width: ${getPosition(skill.manager)};"></div>

      <!-- Benchmark line -->
     <!-- <div class="absolute top-0 bottom-0 w-[4px] bg-[#0066F5]" style="left: ${getPosition(skill.benchmark)};"></div> -->
    `;

    row.appendChild(labelWrapper);
    row.appendChild(graph);
    container.appendChild(row);
  });
}


    function renderRadarChart() {
      const ctx = document.getElementById('radarChart').getContext('2d');
      const labels = skillsData.map(skill => skill.label);
      const selfData = skillsData.map(skill => skill.self);
      const managerData = skillsData.map(skill => skill.manager);
      const benchmarkData = skillsData.map(skill => skill.benchmark);
      if (radarChart) radarChart.destroy();
      radarChart = new Chart(ctx, {
        type: 'radar',
        data: { labels, datasets: [
          { label: 'Self', data: selfData, borderColor: '#8A2ECC', backgroundColor: 'rgba(138, 46, 204, 0.2)', pointBackgroundColor: '#8A2ECC' },
          { label: 'Manager', data: managerData, borderColor: '#071D49', backgroundColor: 'rgba(7, 29, 73, 0.2)', pointBackgroundColor: '#071D49' },
          // { label: 'Role Benchmark', data: benchmarkData, borderColor: '#0066F5', backgroundColor: 'rgba(0, 102, 245, 0.2)',pointStyle:"rect", pointBackgroundColor: '#0066F5' }
        ]},
       options: {
  responsive: true,
  maintainAspectRatio: false,
  scales: {
    r: {
      min: 0,
      max: 3,
      ticks: { stepSize: 1 }
    }
  },
 plugins: {
  legend: {
    position: 'bottom',
    align: 'center' // or 'center', or 'end'
  }
}
}
      });
    }

   function renderCards(data, containerId) {
  const container = document.getElementById(containerId);
  data.forEach(item => {
    const div = document.createElement("div");
    div.className = "bg-blue-50 border-l-4 border-[#071D49] p-4 rounded relative";

    // Convert <br/> string into list items
    const bulletPoints = item.description
      .split('<br/>')
      .map(p => `<li>${p}</li>`)
      .join('');

    div.innerHTML = `
      <div class="flex justify-between items-center mb-1">
        <span class="font-medium text-[#071D49]">${item.title} - ${item.competency}</span>
      </div>
      <ul class="text-gray-600 text-sm mt-1 list-disc ml-5">
        ${bulletPoints}
      </ul>
    `;

    container.appendChild(div);
  });
}

    const toggleAccordion = (type) => {
      const content = document.getElementById(`accordion-content-${type}`);
      const arrow = document.getElementById(`accordion-arrow-${type}`);
      content.classList.toggle("hidden");
      arrow.classList.toggle("rotate-180");
    };
function switchView(view) {
  const competencyView = document.getElementById("competency-view");
  const detailedView = document.getElementById("detailed-view");
  const CompetencyBtn = document.getElementById("CompetencyBtn");
  const DetailedBtn = document.getElementById("DetailedBtn");
  const viewSlider = document.getElementById("view-slider");
const legendBox = document.getElementById("legends");

console.log("the legend is this ",legendBox);
  if (view === 'competency') {
    competencyView?.classList.remove("hidden");
    detailedView?.classList.add("hidden");
     CompetencyBtn?.classList.add("text-white");
 DetailedBtn?.classList.remove("text-white")
      legendBox.classList.remove("hidden");
    viewSlider.style.left = '0.25rem';  // same as left-1
  } else if (view === 'detailed') {
     legendBox.classList.add("hidden"); 
    competencyView?.classList.add("hidden");
    CompetencyBtn?.classList.remove("text-white");
    CompetencyBtn?.classList.add("text-black");
    DetailedBtn?.classList.add("text-white")
    detailedView?.classList.remove("hidden");
    viewSlider.style.left = '49%';
   
legendBox.classList.add("hidden");
  }
}
function downloadModel() {
  window.open('competency.pdf', '_blank');
}

    renderCards(strengths, "accordion-content-strengths");
    renderCards(development, "accordion-content-development");
  </script>
</body>
</html>
